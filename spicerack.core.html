<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>spicerack.core documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="highlight/solarized-light.css" /><script type="text/javascript" src="highlight/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a> with <a href="https://github.com/xsc/codox-theme-rdash">RDash UI</a> theme</h2><h1><a href="index.html"><span class="project-title"><span class="project-name">spicerack</span> <span class="project-version">0.1.3</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Topics</span></h3><ul><li class="depth-1 "><a href="intro.html"><div class="inner"><span>Introduction to spicerack</span></div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1 current"><a href="spicerack.core.html"><div class="inner"><span>spicerack.core</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="spicerack.core.html#var-close"><div class="inner"><span>close</span></div></a></li><li class="depth-1"><a href="spicerack.core.html#var-commit"><div class="inner"><span>commit</span></div></a></li><li class="depth-1"><a href="spicerack.core.html#var-database-default-opts"><div class="inner"><span>database-default-opts</span></div></a></li><li class="depth-1"><a href="spicerack.core.html#var-get-db"><div class="inner"><span>get-db</span></div></a></li><li class="depth-1"><a href="spicerack.core.html#var-open-database"><div class="inner"><span>open-database</span></div></a></li><li class="depth-1"><a href="spicerack.core.html#var-open-hashmap"><div class="inner"><span>open-hashmap</span></div></a></li><li class="depth-1"><a href="spicerack.core.html#var-put.21"><div class="inner"><span>put!</span></div></a></li><li class="depth-1"><a href="spicerack.core.html#var-remove.21"><div class="inner"><span>remove!</span></div></a></li><li class="depth-1"><a href="spicerack.core.html#var-rollback"><div class="inner"><span>rollback</span></div></a></li><li class="depth-1"><a href="spicerack.core.html#var-serializers"><div class="inner"><span>serializers</span></div></a></li><li class="depth-1"><a href="spicerack.core.html#var-update.21"><div class="inner"><span>update!</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">spicerack.core</h1><div class="doc"><div class="markdown"></div></div><div class="public anchor" id="var-close"><h3>close</h3><div class="usage"><code>(close db)</code></div><div class="doc"><div class="markdown"><p>Close this <code>db</code>.</p></div></div></div><div class="public anchor" id="var-commit"><h3>commit</h3><div class="usage"><code>(commit db)</code></div><div class="doc"><div class="markdown"><p>Commit pending changes to this database.</p></div></div></div><div class="public anchor" id="var-database-default-opts"><h3>database-default-opts</h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-get-db"><h3>get-db</h3><div class="usage"><code>(get-db data-structure)</code></div><div class="doc"><div class="markdown"><p>Get this <code>data-structure</code> instance’s underlying database. Useful if one wants to call commit in a context where the data-structure is in scope but DB is not.</p></div></div></div><div class="public anchor" id="var-open-database"><h3>open-database</h3><div class="usage"><code>(open-database filename &amp; params)</code></div><div class="doc"><div class="markdown"><p>Open a MapDB database backed by <code>filename</code>, attempting to create filename’s parent directories if needed. See database-default-opts for the defaults.</p></div></div></div><div class="public anchor" id="var-open-hashmap"><h3>open-hashmap</h3><div class="usage"><code>(open-hashmap db hashmap-name &amp; params)</code></div><div class="doc"><div class="markdown"><p>Create or re-open a MapDB hashmap named <code>hashmap-name</code> in <code>db</code>. Params are: :key-serializer and :value-serializer to select serializers for keys and/or values (this is done for performance).</p></div></div></div><div class="public anchor" id="var-put.21"><h3>put!</h3><div class="usage"><code>(put! m k v)</code></div><div class="doc"><div class="markdown"><p>Write the key/value pair (<code>k</code>,<code>v</code>) to hashmap <code>m</code>. Returns v.</p></div></div></div><div class="public anchor" id="var-remove.21"><h3>remove!</h3><div class="usage"><code>(remove! m k)</code></div><div class="doc"><div class="markdown"><p>Remove key <code>k</code> from hashmap <code>m</code>. Returns the removed value.</p></div></div></div><div class="public anchor" id="var-rollback"><h3>rollback</h3><div class="usage"><code>(rollback db)</code></div><div class="doc"><div class="markdown"><p>Rollback pending changes to this database.</p></div></div></div><div class="public anchor" id="var-serializers"><h3>serializers</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>Lookup table of serializer types for MapDB. These are used as optional hints for the database to improve performance while serializing objects.</p></div></div></div><div class="public anchor" id="var-update.21"><h3>update!</h3><div class="usage"><code>(update! m k f &amp; args)</code></div><div class="doc"><div class="markdown"><p>Calls function <code>f</code> with the current value associated with <code>k</code> in hashmap <code>m</code> as the parameter, then writes the result back to m. If k has not yet been set, it’s previous value will be nil. Returns the value written.</p></div></div></div></div></body></html>